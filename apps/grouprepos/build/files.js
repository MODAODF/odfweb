!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var o in i)("object"==typeof exports?exports:e)[o]=i[o]}}(window,(function(){return function(e){function t(t){for(var i,n,r=t[0],s=t[1],l=0,u=[];l<r.length;l++)n=r[l],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);for(p&&p(t);u.length;)u.shift()()}var i={},o={0:0};function n(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.e=function(e){var t=[],i=o[e];if(0!==i)if(i)t.push(i[2]);else{var r=new Promise((function(t,n){i=o[e]=[t,n]}));t.push(i[2]=r);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=function(e){return n.p+""+({2:"sharing",3:"vendors~sharing"}[e]||e)+".js"}(e);var p=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(u);var i=o[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",p.name="ChunkLoadError",p.type=n,p.request=r,i[1](p)}o[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},n.m=e,n.c=i,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=window.webpackJsonpGroupRepos=window.webpackJsonpGroupRepos||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var p=s;return n(n.s=31)}({31:function(e,t,i){i(32),i(33),e.exports=i(34)},32:function(e,t,i){
/*
 * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 *  This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as
 *  published by the Free Software Foundation, either version 3 of the
 *  License, or (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
!function(e,t){e.Plugins.register("OCA.Files.App",{attach:function(){t.Theming?e.MimeType._mimeTypeIcons["dir-grouprepos"]=e.generateUrl("/apps/theming/img/grouprepos/folder-group.svg?v="+t.Theming.cacheBuster):e.MimeType._mimeTypeIcons["dir-grouprepos"]=e.imagePath("grouprepos","folder-group")}}),i.nc=btoa(e.requestToken),i.p=e.linkTo("grouprepos","build/");var o={attach:function(e){e.on("rendered",(function(){var t=this;if(this.model&&"grouprepos"===this.model.get("mountType")){var o=document.createElement("div"),n=e.$el.find(".dialogContainer")[0];n.parentNode.insertBefore(o,n.nextSibling),o.id="grouprepos-sharing",Promise.all([i.e(3),i.e(2)]).then(i.bind(null,36)).then((function(e){new(0,e.default)({propsData:{fileModel:t.model}}).$mount(o)}))}}))}};e.Plugins.register("OCA.Sharing.ShareTabView",o)}(OC,OCA)},33:function(e,i){$(document).ready((function(){!function(e){var i=function(e,t){this.initialize(e,t)};i.prototype=_.extend({},e.Files.FileList.prototype,{id:"groupreposslist",appName:t("files","GroupRepos"),_clientSideSort:!0,_allowSelection:!1,initialize:function(t,i){e.Files.FileList.prototype.initialize.apply(this,arguments),this.initialized||OC.Plugins.attach("OCA.Files.GroupRepossFileList",this)},updateEmptyContent:function(){var t=this.getCurrentDirectory();"/"===t?(this.$el.find("#emptycontent").toggleClass("hidden",!this.isEmpty),this.$el.find("#filestable thead th").toggleClass("hidden",this.isEmpty)):e.Files.FileList.prototype.updateEmptyContent.apply(this,arguments)},getDirectoryPermissions:function(){return OC.PERMISSION_READ|OC.PERMISSION_DELETE},updateStorageStatistics:function(){},reload:function(){this.showMask(),this._reloadCall&&this._reloadCall.abort(),this._setCurrentDir("/",!1),this._reloadCall=$.ajax({url:OC.generateUrl("/apps/grouprepos/folderlist"),type:"GET",dataType:"json"});var e=this.reloadCallback.bind(this);return this._reloadCall.then(e,e)},reloadCallback:function(e){return delete this._reloadCall,this.hideMask(),!!e.files&&(this.setFiles(e.files.sort(this._sortComparator)),!0)}}),e.Files.GroupRepossFileList=i}(OCA)}))},34:function(e,t){!function(e){e.Files.GroupRepossPlugin={name:"GroupRepos",grouprepossFileList:null,attach:function(){var e=this;$("#app-content-groupreposslist").on("show.plugin-grouprepos",(function(t){e.showFileList($(t.target))})),$("#app-content-groupreposslist").on("hide.plugin-grouprepos",(function(){e.hideFileList()}))},detach:function(){this.grouprepossFileList&&(this.grouprepossFileList.destroy(),e.Files.fileActions.off("setDefault.plugin-grouprepos",this._onActionsUpdated),e.Files.fileActions.off("registerAction.plugin-grouprepos",this._onActionsUpdated),$("#app-content-groupreposslist").off(".plugin-grouprepos"),this.grouprepossFileList=null)},showFileList:function(e){return this.grouprepossFileList||(this.grouprepossFileList=this._createGroupRepossFileList(e)),this.grouprepossFileList},hideFileList:function(){this.grouprepossFileList&&this.grouprepossFileList.$fileList.empty()},_createGroupRepossFileList:function(t){var i=this._createFileActions();return new e.Files.GroupRepossFileList(t,{fileActions:i,shown:!0})},_createFileActions:function(){var t=new e.Files.FileActions;return t.registerDefaultActions(),t.merge(e.Files.fileActions),this._globalActionsInitialized||(this._onActionsUpdated=_.bind(this._onActionsUpdated,this),e.Files.fileActions.on("setDefault.plugin-grouprepos",this._onActionsUpdated),e.Files.fileActions.on("registerAction.plugin-grouprepos",this._onActionsUpdated),this._globalActionsInitialized=!0),t.register("dir","Open",OC.PERMISSION_READ,"",(function(t,i){e.Files.App.setActiveView("files",{silent:!0}),e.Files.App.fileList.changeDirectory(OC.joinPaths(i.$file.attr("data-path"),t),!0,!0)})),t.setDefault("dir","Open"),t},_onActionsUpdated:function(e){e.action?this.grouprepossFileList.fileActions.registerAction(e.action):e.defaultAction&&this.grouprepossFileList.fileActions.setDefault(e.defaultAction.mime,e.defaultAction.name)}}}(OCA),OC.Plugins.register("OCA.Files.App",OCA.Files.GroupRepossPlugin)}})}));
//# sourceMappingURL=files.js.map