!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(window,(function(){return function(e){function t(t){for(var i,o,s=t[0],r=t[1],l=0,f=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(a&&a(t);f.length;)f.shift()()}var i={},n={0:0};function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],i=n[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(t,o){i=n[e]=[t,o]}));t.push(i[2]=s);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(e){return o.p+""+({2:"sharing",3:"vendors~sharing"}[e]||e)+".js"}(e);var a=new Error;r=function(t){l.onerror=l.onload=null,clearTimeout(f);var i=n[e];if(0!==i){if(i){var o=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}n[e]=void 0}};var f=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var s=window.webpackJsonpMergeODF=window.webpackJsonpMergeODF||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var a=r;return o(o.s=28)}({28:function(e,t,i){i(29),i(30),i(31),i(32),e.exports=i(33)},29:function(e,t,i){
/*
 * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 *  This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as
 *  published by the Free Software Foundation, either version 3 of the
 *  License, or (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
!function(e,t){e.Plugins.register("OCA.Files.App",{attach:function(){t.Theming?e.MimeType._mimeTypeIcons["dir-mergeodf"]=e.generateUrl("/apps/theming/img/mergeodf/folder-group.svg?v="+t.Theming.cacheBuster):e.MimeType._mimeTypeIcons["dir-mergeodf"]=e.imagePath("mergeodf","folder-group")}}),e.Plugins.register("OCA.Files.FileList",{attach:function(e){console.log(e),e._isHiddenFile=function(e){return"mergeodf"===e.mountType&&"dir"===e.type||e.name&&"."===e.name.charAt(0)}}})}(OC,OCA),window.addEventListener("DOMContentLoaded",(function(){Promise.all([i.e(3),i.e(2)]).then(i.bind(null,35)).then((function(e){OCA.Sharing.ShareTabSections.registerSection((function(t,i){if("mergeodf"===i.mountType)return e.default}))}))}))},30:function(e,t){!function(e){e.Files.MergeODFPlugin={name:"MergeODF",mergeodfFileList:null,attach:function(){var e=this;$("#app-content-mergeodflist").on("show.plugin-mergeodf",(function(t){e.showFileList($(t.target))})),$("#app-content-mergeodflist").on("hide.plugin-mergeodf",(function(){e.hideFileList()}))},detach:function(){this.mergeodfFileList&&(this.mergeodfFileList.destroy(),e.Files.fileActions.off("setDefault.plugin-mergeodf",this._onActionsUpdated),e.Files.fileActions.off("registerAction.plugin-mergeodf",this._onActionsUpdated),$("#app-content-mergeodflist").off(".plugin-mergeodf"),this.mergeodfFileList=null)},showFileList:function(e){return this.mergeodfFileList||(this.mergeodfFileList=this._createMergeODFFileList(e)),this.mergeodfFileList},hideFileList:function(){this.mergeodfFileList&&this.mergeodfFileList.$fileList.empty()},_createMergeODFFileList:function(t){var i=this._createFileActions();return new e.Files.MergeODFFileList(t,{fileActions:i,shown:!0})},_createFileActions:function(){var t=new e.Files.FileActions;return t.registerDefaultActions(),t.merge(e.Files.fileActions),this._globalActionsInitialized||(this._onActionsUpdated=_.bind(this._onActionsUpdated,this),e.Files.fileActions.on("setDefault.plugin-mergeodf",this._onActionsUpdated),e.Files.fileActions.on("registerAction.plugin-mergeodf",this._onActionsUpdated),this._globalActionsInitialized=!0),t.register("dir","Open",OC.PERMISSION_READ,"",(function(t,i){e.Files.App.setActiveView("files",{silent:!0}),e.Files.App.fileList.changeDirectory(OC.joinPaths(i.$file.attr("data-path"),t),!0,!0)})),t.setDefault("dir","Open"),t},_onActionsUpdated:function(e){e.action?this.mergeodfFileList.fileActions.registerAction(e.action):e.defaultAction&&this.mergeodfFileList.fileActions.setDefault(e.defaultAction.mime,e.defaultAction.name)}}}(OCA),OC.Plugins.register("OCA.Files.App",OCA.Files.MergeODFPlugin)},31:function(e,i){$(document).ready((function(){!function(e){var i=function(e,t){this.initialize(e,t)};i.prototype=_.extend({},e.Files.FileList.prototype,{id:"mergeodflist",appName:t("files","MergeODF"),_clientSideSort:!0,_allowSelection:!1,initialize:function(t,i){e.Files.FileList.prototype.initialize.apply(this,arguments),this.initialized||(OC.Plugins.attach("OCA.Files.MergeODFFileList",this),$.ajax({url:OC.generateUrl("/apps/mergeodf/folderlist"),type:"GET",dataType:"json"}).done((function(){console.log("ffffff")})))},updateEmptyContent:function(){var t=this.getCurrentDirectory();"/"===t?(this.$el.find("#emptycontent").toggleClass("hidden",!this.isEmpty),this.$el.find("#filestable thead th").toggleClass("hidden",this.isEmpty)):e.Files.FileList.prototype.updateEmptyContent.apply(this,arguments)},getDirectoryPermissions:function(){return OC.PERMISSION_READ|OC.PERMISSION_DELETE},updateStorageStatistics:function(){},reload:function(){this.showMask(),this._reloadCall&&this._reloadCall.abort(),this._setCurrentDir("/",!1),this._reloadCall=$.ajax({url:OC.generateUrl("/apps/mergeodf/folderlist"),type:"GET",dataType:"json"});var e=this.reloadCallback.bind(this);return this._reloadCall.then(e,e)},reloadCallback:function(e){return delete this._reloadCall,this.hideMask(),!!e.files&&(this.setFiles(e.files.sort(this._sortComparator)),!0)}}),e.Files.MergeODFFileList=i}(OCA)}))},32:function(e,i){$(document).ready((function(){!function(e){var i=function(e,t){this.initialize(e,t)};i.prototype=_.extend({},e.Files.FileList.prototype,{id:"applist",appName:t("files","MergeODF"),_clientSideSort:!0,_allowSelection:!1,initialize:function(t,i){e.Files.FileList.prototype.initialize.apply(this,arguments),this.initialized||OC.Plugins.attach("OCA.Files.MergeODFAPPFileList",this)},updateEmptyContent:function(){var t=this.getCurrentDirectory();"/"===t?(this.$el.find("#emptycontent").toggleClass("hidden",!this.isEmpty),this.$el.find("#filestable thead th").toggleClass("hidden",this.isEmpty)):e.Files.FileList.prototype.updateEmptyContent.apply(this,arguments)},getDirectoryPermissions:function(){return OC.PERMISSION_READ|OC.PERMISSION_DELETE},updateStorageStatistics:function(){},reload:function(){this.showMask(),this._reloadCall&&this._reloadCall.abort(),this._setCurrentDir("/",!1),this._reloadCall=$.ajax({url:OC.generateUrl("/apps/mergeodf/folderlist"),type:"GET",dataType:"json"});var e=this.reloadCallback.bind(this);return this._reloadCall.then(e,e)},reloadCallback:function(e){return delete this._reloadCall,this.hideMask(),!!e.files&&(this.setFiles(e.files.sort(this._sortComparator)),!0)}}),e.Files.MergeODFAPPFileList=i}(OCA)}))},33:function(e,t){!function(e){e.Files.MergeODFAPPPlugin={name:"MergeODFAPP",mergeodfFileList:null,attach:function(){var e=this;$("#app-content-applist").on("show.plugin-mergeodf",(function(t){e.showFileList($(t.target))})),$("#app-content-applist").on("hide.plugin-mergeodf",(function(){e.hideFileList()}))},detach:function(){this.mergeodfFileList&&(this.mergeodfFileList.destroy(),e.Files.fileActions.off("setDefault.plugin-mergeodf",this._onActionsUpdated),e.Files.fileActions.off("registerAction.plugin-mergeodf",this._onActionsUpdated),$("#app-content-applist").off(".plugin-mergeodf"),this.mergeodfFileList=null)},showFileList:function(e){return this.mergeodfFileList||(this.mergeodfFileList=this._createMergeODFAPPFileList(e)),this.mergeodfFileList},hideFileList:function(){this.mergeodfFileList&&this.mergeodfFileList.$fileList.empty()},_createMergeODFAPPFileList:function(t){var i=this._createFileActions();return new e.Files.MergeODFAPPFileList(t,{fileActions:i,shown:!0})},_createFileActions:function(){var t=new e.Files.FileActions;return t.registerDefaultActions(),t.merge(e.Files.fileActions),this._globalActionsInitialized||(this._onActionsUpdated=_.bind(this._onActionsUpdated,this),e.Files.fileActions.on("setDefault.plugin-mergeodf",this._onActionsUpdated),e.Files.fileActions.on("registerAction.plugin-mergeodf",this._onActionsUpdated),this._globalActionsInitialized=!0),t.register("dir","Open",OC.PERMISSION_READ,"",(function(t,i){e.Files.App.setActiveView("files",{silent:!0}),e.Files.App.fileList.changeDirectory(OC.joinPaths(i.$file.attr("data-path"),t),!0,!0)})),t.setDefault("dir","Open"),t},_onActionsUpdated:function(e){e.action?this.mergeodfFileList.fileActions.registerAction(e.action):e.defaultAction&&this.mergeodfFileList.fileActions.setDefault(e.defaultAction.mime,e.defaultAction.name)}}}(OCA),OC.Plugins.register("OCA.Files.App",OCA.Files.MergeODFAPPPlugin)}})}));
//# sourceMappingURL=files.js.map